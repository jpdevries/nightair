!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(){setTimeout(function(){document.body.classList.add("ticking")},1e3-(new Date).getMilliseconds())}function f(a,b,c,d){if(p.getNotify()){if(d=void 0==d?4200:d,!("Notification"in window))return console.log("This browser does not support system notifications"),void p.setNotify(!1);if("granted"===Notification.permission){var e={body:b,icon:c},f=new Notification(a,e);setTimeout(f.close.bind(f),d)}else"denied"!==Notification.permission&&Notification.requestPermission(function(b){if("granted"===b){var c=new Notification(a,e);setTimeout(c.close.bind(c),d)}})}}function g(a){document.body.setAttribute("data-theme",a),p.setTheme(a)}function h(){function a(){var a=g.getHours(),b=g.getMinutes(),c=p.getMilitaryTime(),d=c?"":"am";return c?10>a&&(a="0"+a.toString()):g.getHours()>12&&(d="pm"),a+":"+b+d}var b=p.getSettingAlarm(),c=p.getSuppressAlarm(),d=p.getAlarmEnabled(),e=p.getNotify(),g=p.getAlarmTime();b||c||!d||(p.setAlarming(!0),p.setSuppressAlarm(!0),e&&f("Beep Beep!","You're "+a()+" alarm is sounding.",void 0,6e4))}function i(a){ReactDOM.render(React.createElement(r,null),A),ReactDOM.render(React.createElement(v,null),B),ReactDOM.render(React.createElement(w,null),C),ReactDOM.render(React.createElement(x,null),D),ReactDOM.render(React.createElement(y,null),E),window.requestAnimationFrame(i)}function j(a,b){for(var c,d,e=["webkit","moz","ms","o",""],f=0;f<e.length&&!a[c];){if(c=b,""==e[f]&&(c=c.substr(0,1).toLowerCase()+c.substr(1)),c=e[f]+c,d=l(a[c]),"undefined"!=d)return e=[e[f]],"function"==d?a[c]():a[c];f++}}function k(){j(document,"FullScreen")||j(document,"IsFullScreen")?(j(document,"CancelFullScreen"),p.setFullscreenMode(!1)):(j(q,"RequestFullScreen"),p.setFullscreenMode(!0))}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a},m=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();document.querySelector("html").classList.remove("no-js");var n=null,o=function(){function a(){return d(this,a),this.settingAlarm=!1,this.fullscreenMode=!1,this.commandKeyDown=!1,this.alarming=!1,this.suppressAlarm=!1,this.mondayFirst=this.getBooleanLocalStorageItem("NightAir__mondayFirst",!1),this.militaryTime=this.getBooleanLocalStorageItem("NightAir__militaryTime",!1),this.notify=this.getBooleanLocalStorageItem("NightAir__notify",!0),this.allowFullscreen=this.getBooleanLocalStorageItem("NightAir__allowFullscreen",!0),this.alarmEnabled=this.getBooleanLocalStorageItem("NightAir__alarmEnabled",!0),this.theme=this.getLocalStorageItem("NightAir__theme","default"),this.alarmTime=function(a){var b=a.getLocalStorageItem("NightAir__alarm"),c=new Date;return b?c=new Date(parseInt(b)):(c.setHours(0),c.setMinutes(0)),c.setSeconds(0),c.setMilliseconds(0),c}(this),n||(n=this),n}return m(a,[{key:"getInstance",value:function(){return n||new a}},{key:"getLocalStorageItem",value:function(a,b){try{return localStorage.getItem(a)||b}catch(c){return b}}},{key:"getBooleanLocalStorageItem",value:function(a,b){return JSON.parse(this.getLocalStorageItem(a,b))}},{key:"getSettingAlarm",value:function(){return this.settingAlarm}},{key:"setSettingAlarm",value:function(a){this.settingAlarm=a}},{key:"getFullscreenMode",value:function(){return this.fullscreenMode}},{key:"setFullscreenMode",value:function(a){this.fullscreenMode=a}},{key:"getCommandKeyDown",value:function(){return this.commandKeyDown}},{key:"setCommandKeyDown",value:function(a){this.commandKeyDown=a}},{key:"getAlarming",value:function(){return this.alarming}},{key:"setAlarming",value:function(a){this.alarming=a}},{key:"getSuppressAlarm",value:function(){return this.suppressAlarm}},{key:"setSuppressAlarm",value:function(a){this.suppressAlarm=a}},{key:"getMondayFirst",value:function(){return this.mondayFirst}},{key:"setMondayFirst",value:function(a){this.mondayFirst=a}},{key:"getMilitaryTime",value:function(){return this.militaryTime}},{key:"setMilitaryTime",value:function(a){this.militaryTime=a}},{key:"getNotify",value:function(){return this.notify}},{key:"setNotify",value:function(a){this.notify=a}},{key:"getAllowFullscreen",value:function(){return this.allowFullscreen}},{key:"setAllowFullscreen",value:function(a){this.allowFullscreen=a}},{key:"getAlarmEnabled",value:function(){return this.alarmEnabled}},{key:"setAlarmEnabled",value:function(a){this.alarmEnabled=a,localStorage.setItem("NightAir__alarmEnabled",a)}},{key:"getAlarmTime",value:function(){return this.alarmTime}},{key:"setAlarmTime",value:function(a){a=new Date(a),this.alarmTime=a,localStorage.setItem("NightAir__alarm",a.getTime())}},{key:"getTheme",value:function(){return this.theme}},{key:"setTheme",value:function(a){this.theme=a,localStorage.setItem("NightAir__theme",a)}}]),a}(),p=(new o).getInstance();console.log(p),document.body.setAttribute("data-theme",p.getTheme()),e(),f("Notifications Enabled","You'll be notified when the alarm sounds.");var q=document.querySelector("#clock");document.addEventListener("keypress",function(a){var b=p.getAlarming(),c=p.getAlarmTime();switch(b&&p.setAlarming(!1),a.charCode){case 32:p.setSettingAlarm(!0);break;case 91:p.setCommandKeyDown(!0);break;case 161:g("default");break;case 8482:g("calm");break;case 163:g("dangerous");break;case 162:g("bright");break;case 8734:g("royal");break;case 167:g("neon");break;case 182:g("sterc");break;case 8226:g("invert");break;case 170:g("modx");break;case 104:case 38:case 72:p.getSettingAlarm()&&p.setAlarmTime(new Date(c.getTime()+36e5));break;case 109:case 39:case 77:p.getSettingAlarm()&&p.setAlarmTime(new Date(c.getTime()+6e4));break;case 229:p.setAlarmEnabled(!p.getAlarmEnabled());break;case 402:p.getAllowFullscreen()&&k()}}),document.addEventListener("keyup",function(a){var b=p.getSettingAlarm(),c=p.getAlarmTime();switch(a.keyCode){case 32:p.setSettingAlarm(!1);break;case 91:p.setCommandKeyDown(!1);break;case 38:b&&setAlarmTime(new Date(c.getTime()+36e5));break;case 39:b&&setAlarmTime(new Date(c.getTime()+6e4))}});var r=React.createClass({displayName:"Digits",render:function(){var a=this.getTime(),b="";return p.getAlarming()?b="alarming":p.getSettingAlarm()&&(b="settingAlarm"),this.shouldAlarm()&&h(),React.createElement("div",{className:b},React.createElement(s,{digit:a.h1}),React.createElement(s,{digit:a.h2}),React.createElement(t,null),React.createElement(s,{digit:a.m1}),React.createElement(s,{digit:a.m2}),React.createElement(t,null),React.createElement(s,{className:"digit seconds seconds-tenth",digit:a.s1}),React.createElement(s,{className:"digit seconds",digit:a.s2}))},shouldAlarm:function(){var a=new Date,b=p.getAlarmTime();return b.getHours()===a.getHours()&&b.getMinutes()===a.getMinutes()},getTime:function(){function a(a){return["zero","one","two","three","four","five","six","seven","eight","nine"][parseInt(a)]}var b=p.getSettingAlarm(),c=p.getAlarmTime(),d=p.getAlarming(),e=b?c:new Date;d&&(e.setSeconds(0),e.setMilliseconds(0));var f=function(){var a=e.getHours();return!p.getMilitaryTime()&&a>12&&(a-=12),a}().toString().split(""),g=e.getMinutes().toString().split(""),h=e.getSeconds().toString().split("");return f.length<2&&f.unshift("0"),g.length<2&&g.unshift("0"),h.length<2&&h.unshift("0"),{h1:a(f[0]),h2:a(f[1]),m1:a(g[0]),m2:a(g[1]),s1:a(h[0]),s2:a(h[1])}}}),s=React.createClass({displayName:"Digit",getDefaultProps:function(){return{digit:"zero",className:"digit ",zero:"M8.8,19.7l-1.1,1.1L7,20.2v-6.9L8.8,15V19.7z M8.8,27.3L7,29.1v-6.9l0.7-0.7l1.1,1.1V27.3z M16.6,12.9l-1.7,1.8H9.1l-1.7-1.8H16.6z M16.6,29.4H7.4l1.7-1.8h5.7L16.6,29.4z M17,20.2l-0.6,0.7l-1.1-1.1V15l1.8-1.8L17,20.2L17,20.2z M17,29.1l-1.8-1.8v-4.7l1.1-1.1l0.6,0.7v6.9H17z",one:"M15.2,19.7V15l1.8-1.8v7l-0.7,0.7L15.2,19.7z M16.9,22.2v6.9l-1.8-1.8v-4.7l1.1-1.1L16.9,22.2z",two:"M8.8,22.6v4.7L7,29.1v-6.9l0.7-0.7L8.8,22.6z M16.6,12.9l-1.7,1.8H9.1l-1.7-1.8H16.6z M16.6,29.4H7.4l1.7-1.8h5.7L16.6,29.4z M15.1,20.3l0.9,0.9L15.1,22H8.9L8,21.2l0.9-0.9C8.9,20.3,15.1,20.3,15.1,20.3z M15.2,19.7V15l1.8-1.8v6.9l-0.6,0.7L15.2,19.7z",three:"M16.6,12.9l-1.7,1.8H9.1l-1.7-1.8H16.6z M16.6,29.4H7.4l1.7-1.8h5.7L16.6,29.4z M15.1,20.3l0.9,0.9L15.1,22H8.9L8,21.2l0.9-0.9C8.9,20.3,15.1,20.3,15.1,20.3z M15.2,19.7V15l1.8-1.8v6.9l-0.6,0.7L15.2,19.7z M17,22.2v6.9l-1.8-1.8v-4.7l1.1-1.1L17,22.2z",four:"M7,20.2v-7L8.8,15v4.7l-1.1,1.1L7,20.2z M15.1,20.3l0.9,0.9L15.1,22H8.9L8,21.2l0.9-0.9C8.9,20.3,15.1,20.3,15.1,20.3zM15.2,19.7V15l1.8-1.8v6.9l-0.6,0.7L15.2,19.7z M17,22.2v6.9l-1.8-1.8v-4.7l1.1-1.1L17,22.2z",five:"M7,20.2v-6.9L8.8,15v4.7l-1.1,1.1L7,20.2z M16.6,12.9l-1.7,1.8H9.1l-1.7-1.8H16.6z M16.6,29.4H7.4l1.7-1.8h5.7L16.6,29.4zM15.1,20.3l0.9,0.9L15.1,22H8.9L8,21.2l0.9-0.9C8.9,20.3,15.1,20.3,15.1,20.3z M17,22.2v6.9l-1.8-1.8v-4.7l1.1-1.1L17,22.2z",six:"M7,20.2v-6.9L8.8,15v4.7l-1.1,1.1L7,20.2z M8.8,22.6v4.7L7,29.1v-6.9l0.7-0.7L8.8,22.6z M16.6,12.9l-1.7,1.8H9.1l-1.7-1.8H16.6z M16.6,29.4H7.4l1.7-1.8h5.7L16.6,29.4z M15.1,20.3l0.9,0.9L15.1,22H8.9L8,21.2l0.9-0.9C8.9,20.3,15.1,20.3,15.1,20.3zM17,22.2v6.9l-1.8-1.8v-4.7l1.1-1.1L17,22.2z",seven:"M16.6,12.9l-1.7,1.8H9.1l-1.7-1.8H16.6z M15.2,19.7V15l1.8-1.8v6.9l-0.6,0.7L15.2,19.7z M17,22.2v6.9l-1.8-1.8v-4.7l1.1-1.1L17,22.2z",eight:"M7,20.2v-6.9L8.8,15v4.7l-1.1,1.1L7,20.2z M8.8,22.6v4.7L7,29.1v-6.9l0.7-0.7L8.8,22.6z M16.6,12.9l-1.7,1.8H9.1l-1.7-1.8H16.6z M16.6,29.4H7.4l1.7-1.8h5.7L16.6,29.4z M15.1,20.3l0.9,0.9L15.1,22H8.9L8,21.2l0.9-0.9C8.9,20.3,15.1,20.3,15.1,20.3zM15.2,19.7V15l1.8-1.8v6.9l-0.6,0.7L15.2,19.7z M17,22.2v6.9l-1.8-1.8v-4.7l1.1-1.1L17,22.2z",nine:"M7,20.2v-6.9L8.8,15v4.7l-1.1,1.1L7,20.2z M16.6,12.9l-1.7,1.8H9.1l-1.7-1.8H16.6z M16.6,29.4H7.4l1.7-1.8h5.7L16.6,29.4zM15.1,20.3l0.9,0.9L15.1,22H8.9L8,21.2l0.9-0.9C8.9,20.3,15.1,20.3,15.1,20.3z M15.2,19.7V15l1.8-1.8v6.9l-0.6,0.7L15.2,19.7zM17,22.2v6.9l-1.8-1.8v-4.7l1.1-1.1L17,22.2z"}},render:function(){return React.createElement("div",{className:this.props.className},React.createElement("svg",{className:"blur",x:"0px",y:"0px",viewBox:"0 0 24 42","enable-background":"new 0 0 24 42"},React.createElement("defs",null,React.createElement("filter",{id:"blur",x:"-50%",y:"-50%",width:"200%",height:"200%"},React.createElement("feGaussianBlur",{"in":"SourceGraphic",stdDeviation:".42"}))),React.createElement("g",{id:"d0",filter:"url(#blur)"},React.createElement("path",{d:this.props[this.props.digit]}))),React.createElement("svg",{x:"0px",y:"0px",viewBox:"0 0 24 42","enable-background":"new 0 0 24 42"},React.createElement("g",{id:"d8",opacity:"0.1"},React.createElement("path",{d:this.props.eight})),React.createElement("g",{id:"d0"},React.createElement("path",{d:this.props[this.props.digit]}))))}}),t=React.createClass({displayName:"Separator",render:function(){return React.createElement("div",{className:"digit separator"},React.createElement("svg",{className:"blur",x:"0px",y:"0px",viewBox:"0 0 12.8 42"},React.createElement("defs",null,React.createElement("filter",{id:"blur",x:"-50%",y:"-50%",width:"200%",height:"200%"},React.createElement("feGaussianBlur",{"in":"SourceGraphic",stdDeviation:".42"}))),React.createElement("g",{filter:"url(#blur)"},React.createElement("rect",{id:"block",x:"5.5",y:"16.5",width:"1.8",height:"1.8"}),React.createElement("rect",{id:"block_2_",x:"5.5",y:"23.7",width:"1.8",height:"1.8"}))),React.createElement("svg",{x:"0px",y:"0px",viewBox:"0 0 12.8 42"},React.createElement("g",null,React.createElement("rect",{id:"block",x:"5.5",y:"16.5",width:"1.8",height:"1.8"}),React.createElement("rect",{id:"block_2_",x:"5.5",y:"23.7",width:"1.8",height:"1.8"}))))}}),u=React.createClass({displayName:"WeekDay",getDefaultProps:function(){return{D:"sun",l:"Sunday",isToday:!1}},render:function(){var a="assets/img/art.svg#icon-"+this.props.D,b="weekday "+this.props.D;return this.props.isToday&&(b="today "+b),React.createElement("h3",{className:b},React.createElement("svg",{x:"0px",y:"0px",viewBox:"0 0 42 42","enable-background":"new 0 0 42 42"},React.createElement("title",null,this.props.l),React.createElement("use",{xlinkHref:a})))}}),v=React.createClass({displayName:"WeekDays",render:function(){for(var a=function(){return new Date}().getDay(),b=[{key:"sun",l:"Sunday"},{key:"mon",l:"Monday"},{key:"tue",l:"Tuesday"},{key:"wed",l:"Wednesday"},{key:"thu",l:"Thursday"},{key:"fri",l:"Friday"},{key:"sat",l:"Saturday"}],c=[],d=0;d<b.length;d++)c.push(React.createElement(u,{key:b[d].key,D:b[d].key,l:b[d].l,isToday:a==d}));var e="week ";return p.getMondayFirst()&&(e+="monfirst"),React.createElement("div",{className:e},c)}}),w=React.createClass({displayName:"Meridian",getAnteMeridiem:function(){return function(){return p.getSettingAlarm()?p.getAlarmTime():new Date}().getHours()<12},getPostMeridiem:function(){return!this.getAnteMeridiem()},render:function(){var a="assets/img/art.svg#icon-"+(this.getAnteMeridiem()?"am":"pm"),b=this.props.anteMeridiem?"AM":"PM";return p.getMilitaryTime()?null:React.createElement("h3",null,React.createElement("svg",{x:"0px",y:"0px",viewBox:"0 0 24 42","enable-background":"new 0 0 24 42"},React.createElement("title",null,b),React.createElement("use",{xlinkHref:a})))}}),x=React.createClass({displayName:"Player",getDefaultProps:function(){return{srcMp3:"assets/mp3/digital_beep.mp3",autoplay:!0,volume:1,muted:!1,loop:!0,controls:!1}},render:function(){return p.getAlarming()?React.createElement("div",null,React.createElement("audio",{autoPlay:this.props.autoplay,loop:this.props.loop,muted:this.props.muted,controls:this.props.controls},React.createElement("source",{src:this.props.srcMp3,type:"audio/mpeg"}),"Your browser does not support the audio element.")):React.createElement("div",null)}}),y=React.createClass({displayName:"StatusBar",getDefaultProps:function(){return{}},render:function(){var a=p.getAlarmEnabled();return React.createElement("div",null,React.createElement(z,{id:"bell",lit:a}))}}),z=React.createClass({displayName:"StatusIcon",getDefaultProps:function(){return{id:"bell",path:"M25.2,22.9c0,0.1-0.1,0.1-0.1,0.1h-4.7c-0.1,0-0.1,0-0.1-0.1s0-0.1,0.1-0.1c0,0,0.3-0.1,0.6-0.4c0.3-0.3,0.4-0.8,0.4-1.8c0-0.8,0.3-1.2,0.6-1.4c0.1-0.1,0.2-0.1,0.3-0.2c0,0,0,0,0-0.1c0-0.3,0.2-0.5,0.5-0.5s0.5,0.2,0.5,0.5c0,0,0,0,0,0.1c0.1,0,0.2,0.1,0.3,0.2c0.3,0.2,0.6,0.6,0.6,1.4c0,1,0.1,1.5,0.4,1.8s0.6,0.4,0.6,0.4C25.1,22.8,25.2,22.8,25.2,22.9zM23.1,23.2h-1c-0.1,0-0.1,0.1-0.1,0.1c0,0.3,0.3,0.6,0.6,0.6s0.6-0.3,0.6-0.6C23.3,23.3,23.2,23.2,23.1,23.2z",lit:!1}},render:function(){var a=this.props.id;return this.props.lit&&(a+=" lit"),React.createElement("h2",{className:a},React.createElement("svg",{id:"bell",x:"0px",y:"0px",viewBox:"0 0 42 42","enable-background":"new 0 0 42 42"},React.createElement("defs",null,React.createElement("filter",{id:"f1",x:"-50%",y:"-50%",width:"200%",height:"200%"},React.createElement("feGaussianBlur",{"in":"SourceGraphic",stdDeviation:".42"}))),React.createElement("path",{id:this.props.id+"_blur",filter:"url(#f1)",d:this.props.path}),React.createElement("path",{id:this.props.id,d:this.props.path})))}}),A=document.getElementById("digits"),B=document.getElementById("daysoftheweek"),C=document.getElementById("meridian"),D=document.getElementById("player"),E=document.getElementById("status-bar");window.requestAnimationFrame(i)},{}]},{},[1]);