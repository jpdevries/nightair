"use strict";function tick(){setTimeout(function(){document.body.classList.add("ticking")},1e3-(new Date).getMilliseconds())}function setAlarmTime(a){alarmTime=a,localStorage.setItem("NightAir__alarm",alarmTime.getTime())}function setTheme(a){document.body.setAttribute("data-theme",a),localStorage.setItem("NightAir__theme",a)}function doAlarm(){settingAlarm||suppressAlarm||(alarming=!0,suppressAlarm=!0)}function step(a){ReactDOM.render(React.createElement(Digits,null),digitsDOM),ReactDOM.render(React.createElement(WeekDays,null),weekdaysDOM),ReactDOM.render(React.createElement(Meridian,null),meridianDOM),ReactDOM.render(React.createElement(Player,null),playerDOM),window.requestAnimationFrame(step)}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};document.querySelector("html").classList.remove("no-js"),localStorage.getItem("NightAir__theme")&&document.body.setAttribute("data-theme",localStorage.getItem("NightAir__theme")),tick();var mondayFirst=!1,militaryTime=!1,settingAlarm=!1,fullscreenMode=!1,commandKeyDown=!1,alarming=!1,suppressAlarm=!1,alarmTime=function(){var a=localStorage.getItem("NightAir__alarm")||void 0,b=new Date;return a?b=new Date(parseInt(a)):(b.setHours(0),b.setMinutes(0)),b.setSeconds(0),b.setMilliseconds(0),b}(),clockDOM=document.querySelector("#clock");document.addEventListener("keypress",function(a){switch(a.keyCode){case 32:settingAlarm=!0;break;case 91:commandKeyDown=!0;break;case 161:setTheme("default");break;case 8482:setTheme("calm");break;case 163:setTheme("dangerous");break;case 162:setTheme("bright");break;case 8734:setTheme("royal");break;case 167:setTheme("neon");break;case 182:setTheme("sterc");break;case 8226:setTheme("invert");break;case 170:setTheme("modx");break;case 104:case 38:case 72:settingAlarm&&setAlarmTime(new Date(alarmTime.getTime()+36e5));break;case 109:case 39:case 77:settingAlarm&&setAlarmTime(new Date(alarmTime.getTime()+6e4))}}),document.addEventListener("keyup",function(a){switch(a.keyCode){case 32:settingAlarm=!1;break;case 91:commandKeyDown=!0;break;case 38:settingAlarm&&setAlarmTime(new Date(alarmTime.getTime()+36e5));break;case 39:settingAlarm&&setAlarmTime(new Date(alarmTime.getTime()+6e4))}});var Digits=React.createClass({displayName:"Digits",render:function(){var a=this.getTime(),b="";return settingAlarm&&(b="settingAlarm"),alarming&&(b="alarming"),this.shouldAlarm()&&doAlarm(),React.createElement("div",{className:b},React.createElement(Digit,{digit:a.h1}),React.createElement(Digit,{digit:a.h2}),React.createElement(Separator,null),React.createElement(Digit,{digit:a.m1}),React.createElement(Digit,{digit:a.m2}),React.createElement(Separator,null),React.createElement(Digit,{className:"digit seconds seconds-tenth",digit:a.s1}),React.createElement(Digit,{className:"digit seconds",digit:a.s2}))},shouldAlarm:function(){var a=new Date;return alarmTime.getHours()===a.getHours()&&alarmTime.getMinutes()===a.getMinutes()},getTime:function(){function a(a){return["zero","one","two","three","four","five","six","seven","eight","nine"][parseInt(a)]}var b=settingAlarm?alarmTime:new Date;alarming&&(b.setSeconds(0),b.setMilliseconds(0));var c=function(){var a=b.getHours();return!militaryTime&&a>12&&(a-=12),a}().toString().split(""),d=b.getMinutes().toString().split(""),e=b.getSeconds().toString().split("");return c.length<2&&c.unshift("0"),d.length<2&&d.unshift("0"),e.length<2&&e.unshift("0"),{h1:a(c[0]),h2:a(c[1]),m1:a(d[0]),m2:a(d[1]),s1:a(e[0]),s2:a(e[1])}}}),Digit=React.createClass({displayName:"Digit",getDefaultProps:function(){return{digit:"zero",className:"digit ",zero:"M8.8,19.7l-1.1,1.1L7,20.2v-6.9L8.8,15V19.7z M8.8,27.3L7,29.1v-6.9l0.7-0.7l1.1,1.1V27.3z M16.6,12.9l-1.7,1.8H9.1l-1.7-1.8H16.6z M16.6,29.4H7.4l1.7-1.8h5.7L16.6,29.4z M17,20.2l-0.6,0.7l-1.1-1.1V15l1.8-1.8L17,20.2L17,20.2z M17,29.1l-1.8-1.8v-4.7l1.1-1.1l0.6,0.7v6.9H17z",one:"M15.2,19.7V15l1.8-1.8v7l-0.7,0.7L15.2,19.7z M16.9,22.2v6.9l-1.8-1.8v-4.7l1.1-1.1L16.9,22.2z",two:"M8.8,22.6v4.7L7,29.1v-6.9l0.7-0.7L8.8,22.6z M16.6,12.9l-1.7,1.8H9.1l-1.7-1.8H16.6z M16.6,29.4H7.4l1.7-1.8h5.7L16.6,29.4z M15.1,20.3l0.9,0.9L15.1,22H8.9L8,21.2l0.9-0.9C8.9,20.3,15.1,20.3,15.1,20.3z M15.2,19.7V15l1.8-1.8v6.9l-0.6,0.7L15.2,19.7z",three:"M16.6,12.9l-1.7,1.8H9.1l-1.7-1.8H16.6z M16.6,29.4H7.4l1.7-1.8h5.7L16.6,29.4z M15.1,20.3l0.9,0.9L15.1,22H8.9L8,21.2l0.9-0.9C8.9,20.3,15.1,20.3,15.1,20.3z M15.2,19.7V15l1.8-1.8v6.9l-0.6,0.7L15.2,19.7z M17,22.2v6.9l-1.8-1.8v-4.7l1.1-1.1L17,22.2z",four:"M7,20.2v-7L8.8,15v4.7l-1.1,1.1L7,20.2z M15.1,20.3l0.9,0.9L15.1,22H8.9L8,21.2l0.9-0.9C8.9,20.3,15.1,20.3,15.1,20.3zM15.2,19.7V15l1.8-1.8v6.9l-0.6,0.7L15.2,19.7z M17,22.2v6.9l-1.8-1.8v-4.7l1.1-1.1L17,22.2z",five:"M7,20.2v-6.9L8.8,15v4.7l-1.1,1.1L7,20.2z M16.6,12.9l-1.7,1.8H9.1l-1.7-1.8H16.6z M16.6,29.4H7.4l1.7-1.8h5.7L16.6,29.4zM15.1,20.3l0.9,0.9L15.1,22H8.9L8,21.2l0.9-0.9C8.9,20.3,15.1,20.3,15.1,20.3z M17,22.2v6.9l-1.8-1.8v-4.7l1.1-1.1L17,22.2z",six:"M7,20.2v-6.9L8.8,15v4.7l-1.1,1.1L7,20.2z M8.8,22.6v4.7L7,29.1v-6.9l0.7-0.7L8.8,22.6z M16.6,12.9l-1.7,1.8H9.1l-1.7-1.8H16.6z M16.6,29.4H7.4l1.7-1.8h5.7L16.6,29.4z M15.1,20.3l0.9,0.9L15.1,22H8.9L8,21.2l0.9-0.9C8.9,20.3,15.1,20.3,15.1,20.3zM17,22.2v6.9l-1.8-1.8v-4.7l1.1-1.1L17,22.2z",seven:"M16.6,12.9l-1.7,1.8H9.1l-1.7-1.8H16.6z M15.2,19.7V15l1.8-1.8v6.9l-0.6,0.7L15.2,19.7z M17,22.2v6.9l-1.8-1.8v-4.7l1.1-1.1L17,22.2z",eight:"M7,20.2v-6.9L8.8,15v4.7l-1.1,1.1L7,20.2z M8.8,22.6v4.7L7,29.1v-6.9l0.7-0.7L8.8,22.6z M16.6,12.9l-1.7,1.8H9.1l-1.7-1.8H16.6z M16.6,29.4H7.4l1.7-1.8h5.7L16.6,29.4z M15.1,20.3l0.9,0.9L15.1,22H8.9L8,21.2l0.9-0.9C8.9,20.3,15.1,20.3,15.1,20.3zM15.2,19.7V15l1.8-1.8v6.9l-0.6,0.7L15.2,19.7z M17,22.2v6.9l-1.8-1.8v-4.7l1.1-1.1L17,22.2z",nine:"M7,20.2v-6.9L8.8,15v4.7l-1.1,1.1L7,20.2z M16.6,12.9l-1.7,1.8H9.1l-1.7-1.8H16.6z M16.6,29.4H7.4l1.7-1.8h5.7L16.6,29.4zM15.1,20.3l0.9,0.9L15.1,22H8.9L8,21.2l0.9-0.9C8.9,20.3,15.1,20.3,15.1,20.3z M15.2,19.7V15l1.8-1.8v6.9l-0.6,0.7L15.2,19.7zM17,22.2v6.9l-1.8-1.8v-4.7l1.1-1.1L17,22.2z"}},render:function(){return React.createElement("div",{className:this.props.className},React.createElement("svg",{className:"blur",x:"0px",y:"0px",viewBox:"0 0 24 42","enable-background":"new 0 0 24 42"},React.createElement("defs",null,React.createElement("filter",{id:"blur",x:"-50%",y:"-50%",width:"200%",height:"200%"},React.createElement("feGaussianBlur",{"in":"SourceGraphic",stdDeviation:".42"}))),React.createElement("g",{id:"d0",filter:"url(#blur)"},React.createElement("path",{d:this.props[this.props.digit]}))),React.createElement("svg",{x:"0px",y:"0px",viewBox:"0 0 24 42","enable-background":"new 0 0 24 42"},React.createElement("g",{id:"d8",opacity:"0.1"},React.createElement("path",{d:this.props.eight})),React.createElement("g",{id:"d0"},React.createElement("path",{d:this.props[this.props.digit]}))))}}),Separator=React.createClass({displayName:"Separator",render:function(){return React.createElement("div",{className:"digit separator"},React.createElement("svg",{className:"blur",x:"0px",y:"0px",viewBox:"0 0 12.8 42"},React.createElement("defs",null,React.createElement("filter",{id:"blur",x:"-50%",y:"-50%",width:"200%",height:"200%"},React.createElement("feGaussianBlur",{"in":"SourceGraphic",stdDeviation:".42"}))),React.createElement("g",{filter:"url(#blur)"},React.createElement("rect",{id:"block",x:"5.5",y:"16.5",width:"1.8",height:"1.8"}),React.createElement("rect",{id:"block_2_",x:"5.5",y:"23.7",width:"1.8",height:"1.8"}))),React.createElement("svg",{x:"0px",y:"0px",viewBox:"0 0 12.8 42"},React.createElement("g",null,React.createElement("rect",{id:"block",x:"5.5",y:"16.5",width:"1.8",height:"1.8"}),React.createElement("rect",{id:"block_2_",x:"5.5",y:"23.7",width:"1.8",height:"1.8"}))))}}),WeekDay=React.createClass({displayName:"WeekDay",getDefaultProps:function(){return{D:"sun",l:"Sunday",isToday:!1}},render:function(){var a="assets/img/art.svg#icon-"+this.props.D,b="weekday "+this.props.D;return this.props.isToday&&(b="today "+b),React.createElement("h3",{className:b},React.createElement("svg",{x:"0px",y:"0px",viewBox:"0 0 42 42","enable-background":"new 0 0 42 42"},React.createElement("title",null,this.props.l),React.createElement("use",{xlinkHref:a})))}}),WeekDays=React.createClass({displayName:"WeekDays",render:function(){for(var a=function(){return new Date}().getDay(),b=[{key:"sun",l:"Sunday"},{key:"mon",l:"Monday"},{key:"tue",l:"Tuesday"},{key:"wed",l:"Wednesday"},{key:"thu",l:"Thursday"},{key:"fri",l:"Friday"},{key:"sat",l:"Saturday"}],c=[],d=0;d<b.length;d++)c.push(React.createElement(WeekDay,{key:b[d].key,D:b[d].key,l:b[d].l,isToday:a==d}));var e="week ";return mondayFirst&&(e+="monfirst"),React.createElement("div",{className:e},c)}}),Meridian=React.createClass({displayName:"Meridian",getAnteMeridiem:function(){return function(){return settingAlarm?alarmTime:new Date}().getHours()<12},getPostMeridiem:function(){return!this.getAnteMeridiem()},render:function(){var a="assets/img/art.svg#icon-"+(this.getAnteMeridiem()?"am":"pm"),b=this.props.anteMeridiem?"AM":"PM";return militaryTime?null:React.createElement("h3",null,React.createElement("svg",{x:"0px",y:"0px",viewBox:"0 0 24 42","enable-background":"new 0 0 24 42"},React.createElement("title",null,b),React.createElement("use",{xlinkHref:a})))}}),Player=React.createClass({displayName:"Player",getDefaultProps:function(){return{srcMp3:"assets/mp3/digital_beep.mp3",autoplay:!0,volume:1,muted:!1,loop:!0,controls:!1}},render:function(){return alarming?React.createElement("div",null,React.createElement("audio",{autoPlay:this.props.autoplay,loop:this.props.loop,muted:this.props.muted,controls:this.props.controls},React.createElement("source",{src:this.props.srcMp3,type:"audio/mpeg"}),"Your browser does not support the audio element.")):React.createElement("div",null)}}),digitsDOM=document.getElementById("digits"),weekdaysDOM=document.getElementById("daysoftheweek"),meridianDOM=document.getElementById("meridian"),playerDOM=document.getElementById("player");window.requestAnimationFrame(step),function(){function a(a,c){for(var d,e,f=0;f<b.length&&!a[d];){if(d=c,""==b[f]&&(d=d.substr(0,1).toLowerCase()+d.substr(1)),d=b[f]+d,e=_typeof(a[d]),"undefined"!=e)return b=[b[f]],"function"==e?a[d]():a[d];f++}}var b=["webkit","moz","ms","o",""];clockDOM.onclick=function(){a(document,"FullScreen")||a(document,"IsFullScreen")?(a(document,"CancelFullScreen"),fullscreenMode=!1):(a(clockDOM,"RequestFullScreen"),fullscreenMode=!0)}}();